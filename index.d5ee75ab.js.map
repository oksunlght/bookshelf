{"mappings":"A,I,E,A,a,O,W,W,A,a,O,K,K,A,a,O,O,O,A,a,O,O,O,C,E,E,C,E,E,C,E,E,E,iB,A,O,I,A,C,E,S,C,E,G,K,E,O,C,C,E,C,O,C,G,K,E,C,I,E,C,C,E,A,Q,C,C,E,C,I,E,C,G,E,Q,C,C,E,O,C,C,E,C,E,E,I,C,E,O,C,E,E,O,E,E,O,A,C,I,E,A,M,uB,E,I,O,E,I,C,mB,C,C,E,Q,C,S,C,C,C,E,C,C,E,C,C,E,E,iB,C,G,E,Q,C,I,E,E,SCEA,MAAM,EAAmB,SAAS,aAAa,CAAC,yBAC1C,EAAW,SAAS,aAAa,CAAC,aAClC,EAAgB,SAAS,aAAa,CAAC,iBACvC,EAAgB,SAAS,aAAa,CAAC,gBACvC,EAAW,SAAS,aAAa,CAAC,cAmCxC,SAAS,EAAgB,CAAI,EAC3B,GAAM,CAAA,OAAE,CAAM,CAAA,WAAE,CAAU,CAAA,UAAE,CAAS,CAAA,YAAE,CAAW,CAAA,MAAE,CAAK,CAAE,CAAG,EAGxD,EAAmB,AADN,EAAU,MAAM,CAAC,CAAC,CAAA,KAAE,CAAI,CAAE,GAAK,AAAS,WAAT,GACd,GAAG,CACrC,CAAC,CAAA,IAAE,CAAG,CAAE,GAAK,CAAC,SAAS,EAAE,EAAI,mDAAqC,CAAC,EAI/D,EAAuB,AADN,EAAU,MAAM,CAAC,CAAC,CAAA,KAAE,CAAI,CAAE,GAAK,AAAS,gBAAT,GACV,GAAG,CAC7C,CAAC,CAAA,IAAE,CAAG,CAAE,GAAK,CAAC,SAAS,EAAE,EAAI,wDAA0C,CAAC,EAGpE,EAAc,CAAC;cACT,EAAE,EAAW,OAAO,EAAE,EAAM;;6BAEb,EAAE,EAAM;6BACR,EAAE,EAAO;kCACJ,EAAE,EAAY;;8BAElB,EAAE,EAAiB;8BACnB,EAAE,EAAqB;;;IAGjD,CAAC,AAEH,CAAA,EAAc,SAAS,CAAG,EAC1B,EAAS,SAAS,CAAC,MAAM,CAAC,YAC5B,CAEA,SAAS,IACP,EAAS,SAAS,CAAC,GAAG,CAAC,YACzB,CAlE6B,SAAS,aAAa,CAAC,oBAEpD,EAAiB,gBAAgB,CAAC,QAAS,AAAA,IACzC,EAAE,cAAc,GAChB,IAAM,EAAkB,EAAE,MAAM,CAAC,OAAO,CAAC,0BAEzC,GAAI,CAAC,EACH,OAGF,IAAM,EAAiB,EAAgB,OAAO,CAAC,EAAE,CAEjD,AAAA,CAAA,EAAA,EAAA,OAAa,AAAb,EAAe,WAAW,CAAC,GAAgB,IAAI,CAAC,EAClD,GAEA,EAAS,gBAAgB,CAAC,QAAS,AAAA,IACjC,EAAE,cAAc,GAEhB,IAAM,EAAe,EAAE,MAAM,CAAC,OAAO,CAAC,oBAEtC,GAAI,CAAC,EACH,OAEF,IAAM,EAAiB,EAAa,OAAO,CAAC,EAAE,CAE9C,AAAA,CAAA,EAAA,EAAA,OAAa,AAAb,EAAe,WAAW,CAAC,GAAgB,IAAI,CAAC,EAClD,GAEA,EAAc,gBAAgB,CAAC,QAAS,GAExC,OAAO,gBAAgB,CAAC,UAsCxB,SAAuB,CAAC,EAClB,EAAS,SAAS,CAAC,QAAQ,CAAC,cAG5B,AAAW,WAAX,EAAE,IAAI,EAIV,GACF,GA7CA,EAAS,gBAAgB,CAAC,QA+C1B,SAA6B,CAAC,EACxB,EAAE,MAAM,GAAK,EAAE,aAAa,EAIhC,GACF","sources":["<anon>","src/js/modal.js"],"sourcesContent":["\n      var $parcel$global =\n        typeof globalThis !== 'undefined'\n          ? globalThis\n          : typeof self !== 'undefined'\n          ? self\n          : typeof window !== 'undefined'\n          ? window\n          : typeof global !== 'undefined'\n          ? global\n          : {};\n  \nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequired7c6\"];\n\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequired7c6\"] = parcelRequire;\n}\n\nvar parcelRegister = parcelRequire.register;\n\nvar $i3bGI = parcelRequire(\"i3bGI\");\nconst $8a7e756c566dd1ea$var$catgoryBooksList = document.querySelector(\".single-category-list\");\nconst $8a7e756c566dd1ea$var$backdrop = document.querySelector(\".backdrop\");\nconst $8a7e756c566dd1ea$var$bookContainer = document.querySelector(\".book-wrapper\");\nconst $8a7e756c566dd1ea$var$closeModalBtn = document.querySelector(\".pop-up-book\");\nconst $8a7e756c566dd1ea$var$homePage = document.querySelector(\".home-wrap\");\nconst $8a7e756c566dd1ea$var$addToShoppingListBtn = document.querySelector(\".purchase-button\");\n$8a7e756c566dd1ea$var$catgoryBooksList.addEventListener(\"click\", (e)=>{\n    e.preventDefault();\n    const selectedElement = e.target.closest(\".single-category__item\");\n    if (!selectedElement) return;\n    const selectedBookId = selectedElement.dataset.id;\n    (0, $i3bGI.default).getBookByID(selectedBookId).then($8a7e756c566dd1ea$var$renderBookPopUp);\n});\n$8a7e756c566dd1ea$var$homePage.addEventListener(\"click\", (e)=>{\n    e.preventDefault();\n    const selectedItem = e.target.closest(\".home__book-item\");\n    if (!selectedItem) return;\n    const selectedBookId = selectedItem.dataset.id;\n    (0, $i3bGI.default).getBookByID(selectedBookId).then($8a7e756c566dd1ea$var$renderBookPopUp);\n});\n$8a7e756c566dd1ea$var$closeModalBtn.addEventListener(\"click\", $8a7e756c566dd1ea$var$onModalClose);\nwindow.addEventListener(\"keydown\", $8a7e756c566dd1ea$var$handleKeyDown);\n$8a7e756c566dd1ea$var$backdrop.addEventListener(\"click\", $8a7e756c566dd1ea$var$handleBackdropClick);\nfunction $8a7e756c566dd1ea$var$renderBookPopUp(book) {\n    const { author: author, book_image: book_image, buy_links: buy_links, description: description, title: title } = book;\n    const amazonLink = buy_links.filter(({ name: name })=>name === \"Amazon\");\n    const amazonLinkMarkup = amazonLink.map(({ url: url })=>`<a href=\"${url}\" target=\\u{201D}_blank\\u{201D} class=\"amazon\"></a>`);\n    const appleBooksLink = buy_links.filter(({ name: name })=>name === \"Apple Books\");\n    const appleBooksLinkMarkup = appleBooksLink.map(({ url: url })=>`<a href=\"${url}\" target=\\u{201D}_blank\\u{201D} class=\"apple-books\"></a>`);\n    const popUpMarkup = `\n    <img src=\"${book_image}\" alt=\"${title}\" class=\"pop-book-image\" />\n    <div class=\"book-description\">\n    <h2 class=\"pop-up-title\">${title}</h2>\n    <p class=\"pop-up-author\">${author}</p>\n    <p class=\"pop-up-description\">${description}</p>\n    <ul class=\"buy-links\">\n    <li class=\"buy-link-item\">${amazonLinkMarkup}</li>\n    <li class=\"buy-link-item\">${appleBooksLinkMarkup}</li>\n    </ul>\n    </div>\n    `;\n    $8a7e756c566dd1ea$var$bookContainer.innerHTML = popUpMarkup;\n    $8a7e756c566dd1ea$var$backdrop.classList.remove(\"is-hidden\");\n}\nfunction $8a7e756c566dd1ea$var$onModalClose() {\n    $8a7e756c566dd1ea$var$backdrop.classList.add(\"is-hidden\");\n}\nfunction $8a7e756c566dd1ea$var$handleKeyDown(e) {\n    if ($8a7e756c566dd1ea$var$backdrop.classList.contains(\"is-hidden\")) return;\n    if (e.code !== \"Escape\") return;\n    $8a7e756c566dd1ea$var$onModalClose();\n}\nfunction $8a7e756c566dd1ea$var$handleBackdropClick(e) {\n    if (e.target !== e.currentTarget) return;\n    $8a7e756c566dd1ea$var$onModalClose();\n}\n\n\n//# sourceMappingURL=index.d5ee75ab.js.map\n","import BookApiService from './fetch-api';\n\nconst catgoryBooksList = document.querySelector('.single-category-list');\nconst backdrop = document.querySelector('.backdrop');\nconst bookContainer = document.querySelector('.book-wrapper');\nconst closeModalBtn = document.querySelector('.pop-up-book');\nconst homePage = document.querySelector('.home-wrap');\nconst addToShoppingListBtn = document.querySelector('.purchase-button');\n\ncatgoryBooksList.addEventListener('click', e => {\n  e.preventDefault();\n  const selectedElement = e.target.closest('.single-category__item');\n\n  if (!selectedElement) {\n    return;\n  }\n\n  const selectedBookId = selectedElement.dataset.id;\n\n  BookApiService.getBookByID(selectedBookId).then(renderBookPopUp);\n});\n\nhomePage.addEventListener('click', e => {\n  e.preventDefault();\n\n  const selectedItem = e.target.closest('.home__book-item');\n\n  if (!selectedItem) {\n    return;\n  }\n  const selectedBookId = selectedItem.dataset.id;\n\n  BookApiService.getBookByID(selectedBookId).then(renderBookPopUp);\n});\n\ncloseModalBtn.addEventListener('click', onModalClose);\n\nwindow.addEventListener('keydown', handleKeyDown);\n\nbackdrop.addEventListener('click', handleBackdropClick);\n\nfunction renderBookPopUp(book) {\n  const { author, book_image, buy_links, description, title } = book;\n\n  const amazonLink = buy_links.filter(({ name }) => name === 'Amazon');\n  const amazonLinkMarkup = amazonLink.map(\n    ({ url }) => `<a href=\"${url}\" target=”_blank” class=\"amazon\"></a>`\n  );\n\n  const appleBooksLink = buy_links.filter(({ name }) => name === 'Apple Books');\n  const appleBooksLinkMarkup = appleBooksLink.map(\n    ({ url }) => `<a href=\"${url}\" target=”_blank” class=\"apple-books\"></a>`\n  );\n\n  const popUpMarkup = `\n    <img src=\"${book_image}\" alt=\"${title}\" class=\"pop-book-image\" />\n    <div class=\"book-description\">\n    <h2 class=\"pop-up-title\">${title}</h2>\n    <p class=\"pop-up-author\">${author}</p>\n    <p class=\"pop-up-description\">${description}</p>\n    <ul class=\"buy-links\">\n    <li class=\"buy-link-item\">${amazonLinkMarkup}</li>\n    <li class=\"buy-link-item\">${appleBooksLinkMarkup}</li>\n    </ul>\n    </div>\n    `;\n\n  bookContainer.innerHTML = popUpMarkup;\n  backdrop.classList.remove('is-hidden');\n}\n\nfunction onModalClose() {\n  backdrop.classList.add('is-hidden');\n}\n\nfunction handleKeyDown(e) {\n  if (backdrop.classList.contains('is-hidden')) {\n    return;\n  }\n  if (e.code !== 'Escape') {\n    return;\n  }\n\n  onModalClose();\n}\n\nfunction handleBackdropClick(e) {\n  if (e.target !== e.currentTarget) {\n    return;\n  }\n\n  onModalClose();\n}\n"],"names":["$parcel$global","globalThis","self","window","global","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","$i3bGI","$8a7e756c566dd1ea$var$catgoryBooksList","document","querySelector","$8a7e756c566dd1ea$var$backdrop","$8a7e756c566dd1ea$var$bookContainer","$8a7e756c566dd1ea$var$closeModalBtn","$8a7e756c566dd1ea$var$homePage","$8a7e756c566dd1ea$var$renderBookPopUp","book","author","book_image","buy_links","description","title","amazonLinkMarkup","amazonLink","filter","name","map","url","appleBooksLinkMarkup","appleBooksLink","popUpMarkup","innerHTML","classList","remove","$8a7e756c566dd1ea$var$onModalClose","add","addEventListener","e","preventDefault","selectedElement","target","closest","selectedBookId","dataset","default","getBookByID","then","selectedItem","contains","currentTarget"],"version":3,"file":"index.d5ee75ab.js.map"}