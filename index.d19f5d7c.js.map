{"mappings":"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","sources":["<anon>","src/js/category.js"],"sourcesContent":["\n      var $parcel$global =\n        typeof globalThis !== 'undefined'\n          ? globalThis\n          : typeof self !== 'undefined'\n          ? self\n          : typeof window !== 'undefined'\n          ? window\n          : typeof global !== 'undefined'\n          ? global\n          : {};\n  \nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequired7c6\"];\n\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequired7c6\"] = parcelRequire;\n}\n\nvar parcelRegister = parcelRequire.register;\n\nvar $i3bGI = parcelRequire(\"i3bGI\");\nconst $ea48f741b5bc75f2$var$categoryName = document.querySelector(\".category-container\");\nconst $ea48f741b5bc75f2$var$homePage = document.querySelector(\".books-wrapper\");\nconst $ea48f741b5bc75f2$var$pageTitle = document.querySelector(\".title\");\nconst $ea48f741b5bc75f2$var$categoryList = document.querySelector(\".single-category-list\");\nconst $ea48f741b5bc75f2$var$popularBooksWrapper = document.querySelector(\".home-wrap\");\nconst $ea48f741b5bc75f2$var$loader = document.querySelector(\".loader\");\n$ea48f741b5bc75f2$var$categoryName.addEventListener(\"click\", $ea48f741b5bc75f2$var$onCategoryClick);\n$ea48f741b5bc75f2$var$homePage.addEventListener(\"click\", $ea48f741b5bc75f2$var$onMoreBtnClick);\nfunction $ea48f741b5bc75f2$var$onCategoryClick(e) {\n    const selectedCategory = e.target.dataset.list;\n    if (!selectedCategory) return;\n    e.preventDefault();\n    if (e.target.nodeName !== \"A\") return;\n    $ea48f741b5bc75f2$var$showElem($ea48f741b5bc75f2$var$loader);\n    $ea48f741b5bc75f2$var$handleActiveLink(e);\n    $ea48f741b5bc75f2$var$categoryList.innerHTML = \"\";\n    $ea48f741b5bc75f2$var$popularBooksWrapper.innerHTML = \"\";\n    (0, $i3bGI.default).getBooksByCategory(selectedCategory).then((data)=>$ea48f741b5bc75f2$var$onBooksByCategoryFetch($ea48f741b5bc75f2$var$addTitleStyle(selectedCategory), data)).finally(()=>{\n        $ea48f741b5bc75f2$var$hideElem($ea48f741b5bc75f2$var$loader);\n    });\n}\nfunction $ea48f741b5bc75f2$var$onBooksByCategoryFetch(category, books) {\n    const markup = books.map(({ _id: _id, author: author, book_image: book_image, title: title })=>{\n        return `<li class=\"single-category__item\" data-id=\"${_id}\">\n    \n      <img src=\"${book_image}\" alt=\"${title}\" class=\"single-category__image\" />\n      <p class=\"book-title\">${title}</p>\n      <p class=\"book-author\">${author}</p>\n    \n      </li>`;\n    }).join(\"\");\n    $ea48f741b5bc75f2$var$pageTitle.innerHTML = category;\n    $ea48f741b5bc75f2$var$popularBooksWrapper.classList.add(\"visually-hidden\");\n    $ea48f741b5bc75f2$var$categoryList.classList.remove(\"visually-hidden\");\n    $ea48f741b5bc75f2$var$categoryList.innerHTML = markup;\n}\nfunction $ea48f741b5bc75f2$var$handleActiveLink(e) {\n    const activeCategory = document.querySelector(\".active\");\n    if (activeCategory !== e.target) activeCategory.classList.remove(\"active\");\n    e.target.classList.add(\"active\");\n}\nfunction $ea48f741b5bc75f2$var$addTitleStyle(selectedCategory) {\n    const categoryArray = selectedCategory.split(\" \");\n    const categoryLastElemIndex = categoryArray.length - 1;\n    const lastTitleElement = categoryArray.splice(categoryLastElemIndex, 1);\n    const remainingTitle = categoryArray.join(\" \");\n    const styledTitle = `<h2 class=\"category-title\">${remainingTitle} <span class=\"category-title_highlight\">${lastTitleElement}</span></h2>`;\n    return styledTitle;\n}\nfunction $ea48f741b5bc75f2$var$onMoreBtnClick(e) {\n    const selectedCategory = e.target.dataset.list;\n    const activeCategory = document.querySelector(\".active\");\n    const chosenCategory = document.querySelector(`a[data-list='${selectedCategory}']`);\n    if (!selectedCategory) return;\n    e.preventDefault();\n    if (e.target.nodeName !== \"BUTTON\") return;\n    if (activeCategory !== selectedCategory) activeCategory.classList.remove(\"active\");\n    chosenCategory.classList.add(\"active\");\n    (0, $i3bGI.default).getBooksByCategory(selectedCategory).then((data)=>$ea48f741b5bc75f2$var$onBooksByCategoryFetch($ea48f741b5bc75f2$var$addTitleStyle(selectedCategory), data));\n}\nfunction $ea48f741b5bc75f2$var$showElem(elem) {\n    elem.classList.remove(\"visually-hidden\");\n}\nfunction $ea48f741b5bc75f2$var$hideElem(elem) {\n    elem.classList.add(\"visually-hidden\");\n}\n\n\n//# sourceMappingURL=index.d19f5d7c.js.map\n","import BookApiService from './fetch-api';\n\nconst categoryName = document.querySelector('.category-container');\nconst homePage = document.querySelector('.books-wrapper');\nconst pageTitle = document.querySelector('.title');\nconst categoryList = document.querySelector('.single-category-list');\nconst popularBooksWrapper = document.querySelector('.home-wrap');\nconst loader = document.querySelector('.loader');\n\ncategoryName.addEventListener('click', onCategoryClick);\nhomePage.addEventListener('click', onMoreBtnClick);\n\nfunction onCategoryClick(e) {\n  const selectedCategory = e.target.dataset.list;\n\n  if (!selectedCategory) {\n    return;\n  }\n\n  e.preventDefault();\n\n  if (e.target.nodeName !== 'A') {\n    return;\n  }\n\n  showElem(loader);\n\n  handleActiveLink(e);\n\n  categoryList.innerHTML = '';\n  popularBooksWrapper.innerHTML = '';\n  BookApiService.getBooksByCategory(selectedCategory)\n    .then(data => onBooksByCategoryFetch(addTitleStyle(selectedCategory), data))\n    .finally(() => {\n      hideElem(loader);\n    });\n}\n\nfunction onBooksByCategoryFetch(category, books) {\n  const markup = books\n    .map(({ _id, author, book_image, title }) => {\n      return `<li class=\"single-category__item\" data-id=\"${_id}\">\n    \n      <img src=\"${book_image}\" alt=\"${title}\" class=\"single-category__image\" />\n      <p class=\"book-title\">${title}</p>\n      <p class=\"book-author\">${author}</p>\n    \n      </li>`;\n    })\n    .join('');\n\n  pageTitle.innerHTML = category;\n  popularBooksWrapper.classList.add('visually-hidden');\n  categoryList.classList.remove('visually-hidden');\n  categoryList.innerHTML = markup;\n}\n\nfunction handleActiveLink(e) {\n  const activeCategory = document.querySelector('.active');\n\n  if (activeCategory !== e.target) {\n    activeCategory.classList.remove('active');\n  }\n  e.target.classList.add('active');\n}\n\nfunction addTitleStyle(selectedCategory) {\n  const categoryArray = selectedCategory.split(' ');\n  const categoryLastElemIndex = categoryArray.length - 1;\n  const lastTitleElement = categoryArray.splice(categoryLastElemIndex, 1);\n  const remainingTitle = categoryArray.join(' ');\n  const styledTitle = `<h2 class=\"category-title\">${remainingTitle} <span class=\"category-title_highlight\">${lastTitleElement}</span></h2>`;\n  return styledTitle;\n}\n\nfunction onMoreBtnClick(e) {\n  const selectedCategory = e.target.dataset.list;\n  const activeCategory = document.querySelector('.active');\n  const chosenCategory = document.querySelector(\n    `a[data-list='${selectedCategory}']`\n  );\n\n  if (!selectedCategory) {\n    return;\n  }\n\n  e.preventDefault();\n\n  if (e.target.nodeName !== 'BUTTON') {\n    return;\n  }\n\n  if (activeCategory !== selectedCategory) {\n    activeCategory.classList.remove('active');\n  }\n\n  chosenCategory.classList.add('active');\n\n  BookApiService.getBooksByCategory(selectedCategory).then(data =>\n    onBooksByCategoryFetch(addTitleStyle(selectedCategory), data)\n  );\n}\n\nfunction showElem(elem) {\n  elem.classList.remove('visually-hidden');\n}\nfunction hideElem(elem) {\n  elem.classList.add('visually-hidden');\n}\n"],"names":["$parcel$global","globalThis","self","window","global","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","$i3bGI","$ea48f741b5bc75f2$var$categoryName","document","querySelector","$ea48f741b5bc75f2$var$homePage","$ea48f741b5bc75f2$var$pageTitle","$ea48f741b5bc75f2$var$categoryList","$ea48f741b5bc75f2$var$popularBooksWrapper","$ea48f741b5bc75f2$var$loader","$ea48f741b5bc75f2$var$onBooksByCategoryFetch","category","books","markup","map","_id","author","book_image","title","join","innerHTML","classList","add","remove","$ea48f741b5bc75f2$var$addTitleStyle","selectedCategory","categoryArray","split","categoryLastElemIndex","length","lastTitleElement","splice","remainingTitle","addEventListener","e","target","dataset","list","preventDefault","nodeName","$ea48f741b5bc75f2$var$showElem","elem","$ea48f741b5bc75f2$var$handleActiveLink","activeCategory","default","getBooksByCategory","then","data","finally","$ea48f741b5bc75f2$var$hideElem","chosenCategory"],"version":3,"file":"index.d19f5d7c.js.map"}